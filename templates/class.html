{% extends "base.html" %}
{% block title %}Booogle Code | Teach Code The Easy Way{% endblock %}
{% block main %}

<main>
    <div class="classBannerContainer">
        <div class="pills">
            <button><svg width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.012 2.25c.734.008 1.465.093 2.182.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.927 1.116l1.401-.615a.75.75 0 0 1 .85.174 9.792 9.792 0 0 1 2.204 3.792.75.75 0 0 1-.271.825l-1.242.916a1.381 1.381 0 0 0 0 2.226l1.243.915a.75.75 0 0 1 .272.826 9.797 9.797 0 0 1-2.204 3.792.75.75 0 0 1-.848.175l-1.407-.617a1.38 1.38 0 0 0-1.926 1.114l-.169 1.526a.75.75 0 0 1-.572.647 9.518 9.518 0 0 1-4.406 0 .75.75 0 0 1-.572-.647l-.168-1.524a1.382 1.382 0 0 0-1.926-1.11l-1.406.616a.75.75 0 0 1-.849-.175 9.798 9.798 0 0 1-2.204-3.796.75.75 0 0 1 .272-.826l1.243-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.271-.826 9.793 9.793 0 0 1 2.204-3.792.75.75 0 0 1 .85-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.717-.159 1.45-.243 2.201-.252Zm0 1.5a9.135 9.135 0 0 0-1.354.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.799.588c.32.842.776 1.626 1.348 2.322l.905-.397a2.882 2.882 0 0 1 4.017 2.318l.11.984c.889.15 1.798.15 2.687 0l.11-.984a2.881 2.881 0 0 1 4.018-2.322l.905.396a8.296 8.296 0 0 0 1.347-2.318l-.798-.588a2.881 2.881 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.988 8.988 0 0 0-1.333-.117ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z" fill="#ffffff"/></svg>Settings</b>
            <button id="classCodeButton"><svg width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.759 3H9.75a.75.75 0 0 0-.75.75v6.5c0 .414.336.75.75.75h2.625c.283 0 .898-.038 1.469-.345.296-.159.594-.398.815-.75.223-.356.341-.785.341-1.28 0-.516-.112-.962-.336-1.33a1.983 1.983 0 0 0-.472-.531c.237-.356.383-.815.383-1.389 0-.502-.096-.935-.291-1.296a1.938 1.938 0 0 0-.768-.78c-.537-.3-1.118-.3-1.333-.299H9.759Zm2.616 6.5H10.5V7.75h1.875c.247 0 .547.01.78.125.1.05.174.113.228.2.054.09.117.254.117.55 0 .248-.057.394-.112.482a.653.653 0 0 1-.255.227c-.25.134-.571.166-.758.166ZM10.5 6.25V4.5h1.663c.218 0 .448.011.621.108.07.04.13.093.18.184.052.096.111.272.111.583 0 .264-.054.422-.107.516a.562.562 0 0 1-.207.212c-.19.116-.442.146-.593.147H10.5ZM5.277 3a.75.75 0 0 1 .696.5L8.28 10a.75.75 0 1 1-1.414.5l-.338-.952H3.826l-.376.973a.75.75 0 1 1-1.4-.542l2.517-6.5A.75.75 0 0 1 5.277 3Zm-.041 2.907-.83 2.141h1.59l-.76-2.141Zm15.292-2.635c.616.302 1.1.872 1.428 1.784a.75.75 0 1 1-1.411.508c-.234-.648-.498-.858-.677-.946-.22-.107-.468-.118-.868-.118-.378 0-.623.12-.802.28-.195.173-.35.428-.464.733a4.157 4.157 0 0 0-.233 1.222v.016c0 .524.007 1.197.229 1.762.105.27.25.487.446.648.192.158.473.295.907.344.352.039 1.129-.022 1.484-.807a.75.75 0 0 1 1.366.62c-.77 1.699-2.459 1.74-3.016 1.678-.69-.077-1.253-.313-1.694-.677a3.043 3.043 0 0 1-.89-1.258C16 8.21 16 7.28 16 6.78V6.733l.001-.035a5.608 5.608 0 0 1 .328-1.71c.167-.446.435-.94.872-1.33.453-.403 1.052-.658 1.8-.658h.038c.36 0 .933-.001 1.489.272ZM16.97 15.138a.857.857 0 0 1 .251-.397c.129-.113.356-.241.778-.241.762 0 1 .5 1 .727 0 .245-.052.49-.19.664-.11.14-.378.359-1.101.359a.75.75 0 0 0 0 1.5c.273 0 .65.036.934.17a.653.653 0 0 1 .264.2c.045.064.093.167.093.357 0 .488-.152.704-.28.812-.151.128-.396.211-.72.211-.362 0-.567-.063-.692-.142-.112-.07-.24-.204-.345-.524a.75.75 0 1 0-1.425.469c.186.566.495 1.023.967 1.322.458.29.982.375 1.495.375.551 0 1.182-.138 1.687-.565.528-.445.813-1.116.813-1.958 0-.474-.13-.888-.371-1.227a1.966 1.966 0 0 0-.258-.294 2.19 2.19 0 0 0 .114-.132c.438-.55.515-1.192.515-1.597C20.5 14.154 19.572 13 18 13c-.765 0-1.351.247-1.77.616-.405.357-.61.789-.701 1.11a.75.75 0 0 0 1.442.412Zm-6.47.385c0-.528.443-1.023.985-1.023.407 0 .735.19.893.434.136.21.218.566-.093 1.095-.15.255-.376.482-.682.724-.152.12-.315.237-.493.363l-.074.052c-.152.107-.315.222-.472.34C9.82 18.069 9 18.855 9 20.25c0 .414.336.75.75.75h3.451a.75.75 0 0 0 0-1.5h-2.513c.16-.282.423-.525.779-.793.137-.103.28-.203.432-.312l.078-.054c.179-.127.37-.264.557-.41.372-.295.76-.658 1.045-1.142.557-.948.546-1.921.058-2.672C13.17 13.4 12.34 13 11.486 13 10.008 13 9 14.278 9 15.523a.75.75 0 0 0 1.5 0Zm-5.585 1.215c.211-.14.415-.3.608-.475v3.987a.75.75 0 0 0 1.5 0v-6.5a.75.75 0 0 0-1.484-.16c-.126.578-.691 1.39-1.456 1.9a.75.75 0 0 0 .832 1.248Z" fill="#ffffff"/></svg>Class Code</button>
        </div>
        <div id="classBannerText" class="classBannerText">
            <h1 id="className">Class Name</h1>
            <p id="classSubTitle">Class Subtitle</p>
        </div>
        <h1 class="classCodeText" id="classCodeText">054h3uc</h1>
        <img id="classBanner" src="/static/coverImages/classroomBanners/redGradient.png">
    </div>
    <div class="classroomContentContainer">
        <div class="classroomMessagesContainer">
            <span class="classroomTitleContainer">
                <strong>Messages</strong>
                <button id="messageButton"><svg width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 3a.75.75 0 0 1 .743.648l.007.102.001 7.25h7.253a.75.75 0 0 1 .102 1.493l-.102.007h-7.253l.002 7.25a.75.75 0 0 1-1.493.101l-.007-.102-.002-7.249H3.752a.75.75 0 0 1-.102-1.493L3.752 11h7.25L11 3.75a.75.75 0 0 1 .75-.75Z" fill="#ffffff"/></svg></button>
            </span>
            <div id="messageInputContainer" class="messageInputContainer">
                <div>
                    <textarea id="messageInput" placeholder="Enter message"></textarea>
                    <div>
                        <button id="messageCancelButton" class="secondaryButtonSmall">Cancel</button>
                        <button class="primaryButtonSmall">Send</button>
                    </div>
                </div>
            </div>
            <div class="messageContainer">
                
            </div>
        </div>
        <div class="classroomTasksContainer">
            <span class="classroomTitleContainer">
                <strong>Tasks</strong>
                <button><svg width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 3a.75.75 0 0 1 .743.648l.007.102.001 7.25h7.253a.75.75 0 0 1 .102 1.493l-.102.007h-7.253l.002 7.25a.75.75 0 0 1-1.493.101l-.007-.102-.002-7.249H3.752a.75.75 0 0 1-.102-1.493L3.752 11h7.25L11 3.75a.75.75 0 0 1 .75-.75Z" fill="#ffffff"/></svg></button>
            </span>
            <div class="taskContainer">
            </div>
        </div>
    </div>
</main>
<script>
    const messageInputContainer = document.getElementById('messageInputContainer');
    const messageButton = document.getElementById('messageButton');
    const messageCancelButton = document.getElementById('messageCancelButton');
    const messageInput = document.getElementById('messageInput');

    messageButton.addEventListener('click', () => {
        messageInputContainer.classList.toggle('messageInputContainerExpand');
    });

    messageCancelButton.addEventListener('click', () => {
        messageInput.value = '';
        messageInputContainer.classList.toggle('messageInputContainerExpand');
    });
    

    const className = document.getElementById('className');
    const classSubTitle = document.getElementById('classSubTitle');
    const thisClass = {{user_class|tojson}};
    classInfo = thisClass.classInfo;
    className.innerText = classInfo.name;
    classSubTitle.innerText = classInfo.classSubTitle;
    classBanner.src = "/static/coverImages/classroomBanners/"+classInfo.coverImage+"Gradient.png"
    const classCodeButton = document.getElementById('classCodeButton');
    const classBannerText = document.getElementById('classBannerText');
    const classCodeText = document.getElementById('classCodeText');
    classCodeText.innerText = classInfo.id;
    let classCodeShown = false;
    classCodeButton.addEventListener('click', () => {
        classCodeShown = !classCodeShown;
        classBannerText.classList.toggle('classBannerTextExpand');
        classCodeText.classList.toggle('classCodeTextExpand');
    });

    const messages = thisClass.messages;
    const messageContainer = document.querySelector('.messageContainer');
    messages.forEach(message => {
        console.log(message)
        let container = document.createElement('span');
        let messageTitleContainer = document.createElement('div');
        let messageTitle = document.createElement('strong');
        let messageDate = document.createElement('p');
        let messageText = document.createElement('p');
        let svg = '<svg class=svg_'+classInfo.coverImage+' width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.96 9.96 0 0 1-4.587-1.112l-3.826 1.067a1.25 1.25 0 0 1-1.54-1.54l1.068-3.823A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2Zm0 1.5A8.5 8.5 0 0 0 3.5 12c0 1.47.373 2.883 1.073 4.137l.15.27-1.112 3.984 3.987-1.112.27.15A8.5 8.5 0 1 0 12 3.5ZM8.75 13h4.498a.75.75 0 0 1 .102 1.493l-.102.007H8.75a.75.75 0 0 1-.102-1.493L8.75 13h4.498H8.75Zm0-3.5h6.505a.75.75 0 0 1 .101 1.493l-.101.007H8.75a.75.75 0 0 1-.102-1.493L8.75 9.5h6.505H8.75Z" fill="#ffffff"/></svg>'
        container.appendChild(messageTitleContainer);
        messageTitleContainer.innerHTML = svg;
        messageTitleContainer.appendChild(messageTitle);
        messageTitleContainer.appendChild(messageDate);
        container.appendChild(messageText);
        messageTitleContainer.classList.add('messageTitleContainer');
        messageTitle.innerText = message.user;
        messageDate.innerText = message.time;
        messageText.innerText = message.message;
        messageContainer.appendChild(container);

    });

    const tasks = thisClass.tasks;
    const taskContainer = document.querySelector('.taskContainer');
    tasks.forEach(task => {
        let container = document.createElement('span');
        let taskTitle = document.createElement('strong');
        let taskDate = document.createElement('p');
        let taskIndercater = document.createElement('div');
        let svg = '<svg class=svg_'+classInfo.coverImage+' width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 12.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Zm.75 2.25a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM7 18.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Zm3.75-6.75a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5ZM10 15.25a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Zm8.664-9.086-5.829-5.828a.493.493 0 0 0-.049-.04.626.626 0 0 1-.036-.03 2.072 2.072 0 0 0-.219-.18.652.652 0 0 0-.08-.044l-.048-.024-.05-.029c-.054-.031-.109-.063-.166-.087a1.977 1.977 0 0 0-.624-.138c-.02-.001-.04-.004-.059-.007A.605.605 0 0 0 12.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9.828a2 2 0 0 0-.586-1.414ZM18.5 20a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V4a.5.5 0 0 1 .5-.5h6V8a2 2 0 0 0 2 2h4.5v10Zm-5-15.379L17.378 8.5H14a.5.5 0 0 1-.5-.5V4.621Z" fill="#ffffff"/></svg>'
        container.innerHTML = svg;
        container.appendChild(taskTitle);
        container.appendChild(taskDate);
        container.appendChild(taskIndercater);
        taskTitle.innerText = task.taskName;
        taskDate.innerText = task.taskDue;
        taskIndercater.classList.add('taskIndercater', task.taskStatus);
        taskContainer.appendChild(container);
    });
</script>


{% endblock %}